<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>í•˜ë£¨ ìƒì‚°ì„± ì²´í¬ í…ŒìŠ¤íŠ¸</title>

    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='18' fill='%230f172a'/%3E%3Ctext x='50' y='62' font-size='52' text-anchor='middle' fill='white'%3EğŸ§ %3C/text%3E%3C/svg%3E"
    />

    <!-- SEO / OG -->
    <meta
      name="description"
      content="1ë¶„ ë§Œì— ì˜¤ëŠ˜ì˜ ì§‘ì¤‘Â·ì—ë„ˆì§€Â·ì˜ì‚¬ê²°ì • ìƒíƒœë¥¼ ì²´í¬í•˜ê³  ì¶”ì²œ í–‰ë™ 3ê°€ì§€ë¥¼ ë°›ì•„ë³´ì„¸ìš”."
    />
    <meta property="og:title" content="í•˜ë£¨ ìƒì‚°ì„± ì²´í¬ í…ŒìŠ¤íŠ¸" />
    <meta
      property="og:description"
      content="ì˜¤ëŠ˜ ë‚´ ë‡ŒÂ·ì—ë„ˆì§€Â·ì§‘ì¤‘ ìƒíƒœëŠ”? 1ë¶„ ì²´í¬ë¡œ ë°”ë¡œ ì§„ë‹¨"
    />
    <meta
      property="og:image"
      content="https://dummyimage.com/1200x630/0f172a/ffffff&text=Daily+Productivity+Check"
    />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        color-scheme: light;
      }
      .fade-in {
        animation: fadeIn 0.22s ease-out both;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(6px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1204894220949193"
     crossorigin="anonymous"></script>
    <!-- responsive-base -->
    <style>
      /* responsive-base */
      *, *::before, *::after {
        box-sizing: border-box;
      }
      html {
        -webkit-text-size-adjust: 100%;
      }
      img,
      video,
      canvas,
      svg {
        max-width: 100%;
        height: auto;
      }
      table {
        width: 100%;
      }
      pre,
      code {
        white-space: pre-wrap;
        word-break: break-word;
      }
    </style>
  <style>
    .adsense-block {
      margin: 16px 0;
      display: flex;
      justify-content: center;
    }
    .adsbygoogle {
      display: block;
      margin: 16px auto;
        text-align: center;
}
  </style>
  <style>
    .lang-switch {
      position: fixed;
      top: 16px;
      right: 16px;
      display: inline-flex;
      gap: 0;
      padding: 3px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      z-index: 100;
      border: 1px solid rgba(0, 0, 0, 0.1);
    }
    .lang-switch button {
      border: none;
      background: transparent;
      color: rgba(0, 0, 0, 0.6);
      font-size: 12px;
      font-weight: 700;
      padding: 7px 14px;
      border-radius: 999px;
      cursor: pointer;
      transition: all 0.2s ease;
      min-width: 44px;
      text-align: center;
      letter-spacing: 0.02em;
    }
    .lang-switch button.active {
      background: #0f172a;
      color: #fff;
      box-shadow: 0 2px 8px rgba(15, 23, 42, 0.4);
    }
    .lang-switch button:not(.active):hover {
      background: rgba(15, 23, 42, 0.1);
      color: rgba(0, 0, 0, 0.9);
    }
  </style>
</head>

  <body class="bg-slate-50 text-slate-900">
  <div class="lang-switch" role="tablist" aria-label="Language switcher">
    <button type="button" data-lang="ko" class="active">KR</button>
    <button type="button" data-lang="en">EN</button>
  </div>
  <main class="min-h-screen px-4 py-8 sm:py-10">
      <div class="mx-auto max-w-xl">
        <header class="mb-6">
          <p class="text-sm text-slate-500" data-i18n="headerBadge">1ë¶„ ì²´í¬</p>
          <h1 class="text-2xl font-extrabold tracking-tight" data-i18n="title">
            í•˜ë£¨ ìƒì‚°ì„± ì²´í¬ í…ŒìŠ¤íŠ¸
          </h1>
          <p class="mt-2 text-sm text-slate-600" data-i18n="subtitle">
            ì˜¤ëŠ˜ ë‚´ ì§‘ì¤‘/ì—ë„ˆì§€/ì˜ì‚¬ê²°ì • ìƒíƒœë¥¼ ë¹ ë¥´ê²Œ í™•ì¸í•´ìš”.
          </p>
        </header>

        <!-- Card -->
        <section
          class="rounded-3xl bg-white p-5 shadow-sm border border-slate-200"
        >
          <div class="flex items-center justify-between gap-3">
            <div class="text-xs text-slate-500">
              <span id="stepText">1</span> / <span id="totalText">8</span>
            </div>
            <button
              id="resetBtn"
              class="text-xs font-semibold text-slate-500 hover:text-slate-900"
              data-i18n="resetBtn"
            >
              ì´ˆê¸°í™”
            </button>
          </div>

          <div
            class="mt-3 h-2 w-full rounded-full bg-slate-100 overflow-hidden"
          >
            <div
              id="progBar"
              class="h-full rounded-full bg-slate-900 transition-all"
              style="width: 12.5%"
            ></div>
          </div>

          <div id="qWrap" class="fade-in mt-5">
            <h2 id="qTitle" class="text-lg font-extrabold leading-snug">
              ì˜¤ëŠ˜ í•´ì•¼ í•  ì¼ì„ ë– ì˜¬ë¦¬ë©´?
            </h2>
            <p id="qHint" class="mt-2 text-sm text-slate-500">
              ì§€ê¸ˆ â€˜ì˜¤ëŠ˜ ê¸°ì¤€â€™ìœ¼ë¡œ ë‹µí•´ì¤˜.
            </p>

            <div id="opts" class="mt-4 space-y-2">
              <!-- injected -->
            </div>

            <div class="mt-5 flex items-center justify-between">
              <button
                id="backBtn"
                class="rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold shadow-sm hover:shadow disabled:opacity-40 disabled:hover:shadow-none"
                disabled
              >
                <span data-i18n="backBtn">ì´ì „</span>
              </button>

              <div class="text-xs text-slate-500" data-i18n="scoreHint">â­•3 / â—¯2 / â–³1 / âœ•0</div>
            </div>
          </div>
        </section>

        <footer class="mt-8 text-center text-xs text-slate-400">
          <p data-i18n="footerNote">
            ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì´ë©°, ì»¨ë””ì…˜Â·ìˆ˜ë©´Â·ìŠ¤íŠ¸ë ˆìŠ¤ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì–´ìš”.
          </p>

          <!-- âœ… í•˜ë‹¨ ê³µí†µ ë²„íŠ¼ (ê¸°ë³¸ì…‹) -->
          <button
            id="more-tests-btn"
            type="button"
            data-url="https://funnyfunny.cloud/"
            class="w-full py-4 bg-white border border-purple-100 text-purple-700 font-semibold rounded-xl hover:bg-purple-50 hover:border-purple-200 transition-all duration-200 mt-4"
          >
            ë” ë§ì€ í…ŒìŠ¤íŠ¸ í•´ë³´ê¸°
          </button>
        </footer>
      </div>
    </main>

    <script>
      // =========================
      // i18n
      // =========================
      const translations = {
        ko: {
          metaTitle: "í•˜ë£¨ ìƒì‚°ì„± ì²´í¬ í…ŒìŠ¤íŠ¸",
          metaDescription: "1ë¶„ ë§Œì— ì˜¤ëŠ˜ì˜ ì§‘ì¤‘Â·ì—ë„ˆì§€Â·ì˜ì‚¬ê²°ì • ìƒíƒœë¥¼ ì²´í¬í•˜ê³  ì¶”ì²œ í–‰ë™ 3ê°€ì§€ë¥¼ ë°›ì•„ë³´ì„¸ìš”.",
          headerBadge: "1ë¶„ ì²´í¬",
          title: "í•˜ë£¨ ìƒì‚°ì„± ì²´í¬ í…ŒìŠ¤íŠ¸",
          subtitle: "ì˜¤ëŠ˜ ë‚´ ì§‘ì¤‘/ì—ë„ˆì§€/ì˜ì‚¬ê²°ì • ìƒíƒœë¥¼ ë¹ ë¥´ê²Œ í™•ì¸í•´ìš”.",
          resetBtn: "ì´ˆê¸°í™”",
          backBtn: "ì´ì „",
          scoreHint: "â­•3 / â—¯2 / â–³1 / âœ•0",
          footerNote: "ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì´ë©°, ì»¨ë””ì…˜Â·ìˆ˜ë©´Â·ìŠ¤íŠ¸ë ˆìŠ¤ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì–´ìš”.",
        },
        en: {
          metaTitle: "Daily Productivity Check Test",
          metaDescription: "Check your focusÂ·energyÂ·decision-making state in 1 minute and receive 3 recommended actions.",
          headerBadge: "1-min Check",
          title: "Daily Productivity Check Test",
          subtitle: "Quickly check your focus/energy/decision-making state today.",
          resetBtn: "Reset",
          backBtn: "Previous",
          scoreHint: "â­•3 / â—¯2 / â–³1 / âœ•0",
          footerNote: "Results are for reference only and may vary depending on conditionÂ·sleepÂ·stress.",
        },
      };

      const defaultLang = "ko";
      const supportedLangs = ["ko", "en"];
      let currentLang = defaultLang;

      function t(key, vars = {}) {
        const langTable = translations[currentLang] || translations.ko;
        let template = langTable?.[key] ?? translations.ko?.[key] ?? key;
        if (typeof template !== "string") return template;
        Object.keys(vars).forEach((k) => {
          template = template.replace(new RegExp(`\\{${k}\\}`, "g"), vars[k]);
        });
        return template;
      }

      function applyTranslations() {
        document.title = t("metaTitle");
        const descMeta = document.querySelector('meta[name="description"]');
        if (descMeta) descMeta.setAttribute("content", t("metaDescription"));
        document.documentElement.lang = currentLang;
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          el.textContent = t(el.dataset.i18n);
        });
        document.querySelectorAll("[data-i18n-html]").forEach((el) => {
          el.innerHTML = t(el.dataset.i18nHtml);
        });
        document.querySelectorAll("[data-i18n-placeholder]").forEach((el) => {
          el.placeholder = t(el.dataset.i18nPlaceholder);
        });
      }

      function detectLang() {
        const params = new URLSearchParams(window.location.search);
        const paramLang = params.get("lang");
        if (supportedLangs.includes(paramLang)) return paramLang;
        const stored = localStorage.getItem("preferredLang");
        if (supportedLangs.includes(stored)) return stored;
        const browserLang =
          navigator.languages && navigator.languages.length
            ? navigator.languages[0]
            : navigator.language;
        if (browserLang && browserLang.toLowerCase().startsWith("ko")) {
          return "ko";
        }
        return defaultLang;
      }

      function setLang(lang, options = {}) {
        const nextLang = supportedLangs.includes(lang) ? lang : defaultLang;
        currentLang = nextLang;
        window.currentLang = currentLang;
        document.documentElement.lang = nextLang;
        localStorage.setItem("preferredLang", nextLang);
        document.querySelectorAll(".lang-switch button").forEach((button) => {
          button.classList.toggle("active", button.dataset.lang === nextLang);
        });
        applyTranslations();
        if (options.forceUpdate && typeof window.render === "function") {
          window.render();
        }
        if (options.updateUrl) {
          const url = new URL(window.location.href);
          url.searchParams.set("lang", nextLang);
          window.history.replaceState({}, "", url);
        }
      }

      document.querySelectorAll(".lang-switch button").forEach((button) => {
        button.addEventListener("click", () => {
          setLang(button.dataset.lang, { updateUrl: true, forceUpdate: true });
        });
      });

      setLang(detectLang(), { updateUrl: false, forceUpdate: false });

      // Make t() function and currentLang globally available
      window.t = t;
      window.currentLang = currentLang;
      window.setLang = setLang;

      const QUESTIONS_BASE = [
        {
          title: "ì˜¤ëŠ˜ í•´ì•¼ í•  ì¼ì„ ë– ì˜¬ë¦¬ë©´?",
          titleEn: "When you think about what you need to do today?",
          hint: "ì§€ê¸ˆ â€˜ì˜¤ëŠ˜ ê¸°ì¤€â€™ìœ¼ë¡œ ë‹µí•´ì¤˜.",
          hintEn: "Answer based on 'today' right now.",
          options: [
            { label: "â­• ë°”ë¡œ ì†ì´ ê°„ë‹¤", labelEn: "â­• I can start right away", score: 3 },
            { label: "â—¯ ë¯¸ë£¨ê³  ì‹¶ì§€ë§Œ í•˜ê¸´ í•œë‹¤", labelEn: "â—¯ I want to delay but I'll do it", score: 2 },
            { label: "â–³ ìƒê°ë§Œ í•´ë„ í”¼ê³¤í•˜ë‹¤", labelEn: "â–³ Just thinking about it makes me tired", score: 1 },
            { label: "âœ• ì•„ì˜ˆ ì‹œì‘í•  ë§ˆìŒì´ ì—†ë‹¤", labelEn: "âœ• I don't feel like starting at all", score: 0 },
          ],
        },
        {
          title: "ì˜¤ëŠ˜ ì§‘ì¤‘ì´ ëŠê¸°ëŠ” ì£¼ëœ ì´ìœ ëŠ”?",
          titleEn: "What is the main reason your focus breaks today?",
          hint: "ê°€ì¥ í° ì›ì¸ 1ê°œë§Œ ê³ ë¥´ê¸°.",
          hintEn: "Choose only 1 main cause.",
          options: [
            { label: "â­• ì™¸ë¶€ ë°©í•´ ê±°ì˜ ì—†ìŒ", labelEn: "â­• Almost no external distractions", score: 3 },
            { label: "â—¯ ì•Œë¦¼Â·SNS", labelEn: "â—¯ NotificationsÂ·SNS", score: 2 },
            { label: "â–³ í”¼ë¡œÂ·ì¡¸ë¦¼", labelEn: "â–³ FatigueÂ·drowsiness", score: 1 },
            { label: "âœ• ì¡ìƒê°ì´ ë©ˆì¶”ì§€ ì•ŠìŒ", labelEn: "âœ• Random thoughts won't stop", score: 0 },
          ],
        },
        {
          title: "ì˜¤ëŠ˜ ê°€ì¥ ë§ì´ í•œ í–‰ë™ì€?",
          titleEn: "What did you do most today?",
          hint: "ì˜¤ëŠ˜ ì‹¤ì œë¡œ ê°€ì¥ ë§ì´ í•œ ê²ƒ.",
          hintEn: "What you actually did the most today.",
          options: [
            { label: "â­• í•µì‹¬ ì—…ë¬´", labelEn: "â­• Core work", score: 3 },
            { label: "â—¯ ì •ë¦¬Â·ë³´ì¡° ì—…ë¬´", labelEn: "â—¯ OrganizingÂ·auxiliary work", score: 2 },
            { label: "â–³ ì˜ë¯¸ ì—†ëŠ” ì›¹ì„œí•‘", labelEn: "â–³ Meaningless web surfing", score: 1 },
            { label: "âœ• í•´ì•¼ í•  ê±¸ í”¼í•˜ëŠ” í–‰ë™", labelEn: "âœ• Avoiding what I should do", score: 0 },
          ],
        },
        {
          title: "ì˜¤ëŠ˜ ì—ë„ˆì§€ ë ˆë²¨ì€?",
          titleEn: "What is your energy level today?",
          hint: "í•˜ë£¨ ì „ì²´ ì²´ê° ê¸°ì¤€.",
          hintEn: "Based on how you felt throughout the day.",
          options: [
            { label: "â­• ì—¬ìœ  ìˆìŒ", labelEn: "â­• Plenty of energy", score: 3 },
            { label: "â—¯ ë³´í†µ", labelEn: "â—¯ Normal", score: 2 },
            { label: "â–³ ë¹¨ë¦¬ ì†Œì§„ë¨", labelEn: "â–³ Depletes quickly", score: 1 },
            { label: "âœ• ì´ë¯¸ ë°©ì „ ìƒíƒœ", labelEn: "âœ• Already depleted", score: 0 },
          ],
        },
        {
          title: "ì˜¤ëŠ˜ ê²°ì •ì„ ë‚´ë¦¬ëŠ” ê²Œ ì–´ë• ë‚˜?",
          titleEn: "How was making decisions today?",
          hint: "ì‚¬ì†Œí•œ ê²°ì • í¬í•¨.",
          hintEn: "Including minor decisions.",
          options: [
            { label: "â­• ë¹ ë¥´ê³  ëª…í™•", labelEn: "â­• Fast and clear", score: 3 },
            { label: "â—¯ ê³ ë¯¼ì€ ìˆì—ˆìŒ", labelEn: "â—¯ Had some hesitation", score: 2 },
            { label: "â–³ ì‚¬ì†Œí•œ ê²ƒë„ ì˜¤ë˜ ê³ ë¯¼", labelEn: "â–³ Thought a lot even about small things", score: 1 },
            { label: "âœ• ê²°ì • ìì²´ë¥¼ í”¼í•¨", labelEn: "âœ• Avoided making decisions", score: 0 },
          ],
        },
        {
          title: "ì˜¤ëŠ˜ ìƒì‚°ì„±ì„ ë°©í•´í•œ ê°€ì¥ í° ìš”ì†ŒëŠ”?",
          titleEn: "What was the biggest factor hindering your productivity today?",
          hint: "ê°€ì¥ í¬ê²Œ ì²´ê°ëœ 1ê°œ.",
          hintEn: "The one you felt the most.",
          options: [
            { label: "â­• ì—†ìŒ", labelEn: "â­• None", score: 3 },
            { label: "â—¯ ì¼ì • ê³¼ë‹¤", labelEn: "â—¯ Too many schedules", score: 2 },
            { label: "â–³ ê°ì • ì†Œëª¨", labelEn: "â–³ Emotional drain", score: 1 },
            { label: "âœ• ìˆ˜ë©´Â·ì»¨ë””ì…˜ ë¬¸ì œ", labelEn: "âœ• SleepÂ·condition issues", score: 0 },
          ],
        },
        {
          title: "ì§€ê¸ˆ ì´ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ì´ìœ ëŠ”?",
          titleEn: "Why are you taking this test now?",
          hint: "ì˜¤ëŠ˜ì˜ â€˜ì‹¬ë¦¬ ìƒíƒœâ€™ì— ê°€ê¹Œìš´ ë‹µ.",
          hintEn: "Answer closest to today's 'psychological state'.",
          options: [
            { label: "â­• ì˜¤ëŠ˜ ì ê²€ìš©", labelEn: "â­• To check today", score: 3 },
            { label: "â—¯ ìƒì‚°ì„± íšŒë³µìš©", labelEn: "â—¯ To recover productivity", score: 2 },
            { label: "â–³ ì£„ì±…ê° í•´ì†Œìš©", labelEn: "â–³ To relieve guilt", score: 1 },
            { label: "âœ• ì•„ë¬´ê²ƒë„ í•˜ê¸° ì‹«ì–´ì„œ", labelEn: "âœ• Because I don't want to do anything", score: 0 },
          ],
        },
        {
          title: "ì˜¤ëŠ˜ í•˜ë£¨ë¥¼ í•œ ë¬¸ì¥ìœ¼ë¡œ í‘œí˜„í•˜ë©´?",
          titleEn: "How would you express today in one sentence?",
          hint: "ê°€ì¥ ê°€ê¹Œìš´ ëŠë‚Œ.",
          hintEn: "The feeling that's closest.",
          options: [
            { label: "â­• ì˜ êµ´ëŸ¬ê°”ë‹¤", labelEn: "â­• Went well", score: 3 },
            { label: "â—¯ ê·¸ëŸ­ì €ëŸ­", labelEn: "â—¯ So-so", score: 2 },
            { label: "â–³ ë¹„íš¨ìœ¨ì ì´ì—ˆë‹¤", labelEn: "â–³ Was inefficient", score: 1 },
            { label: "âœ• ì‚­ì œí•˜ê³  ì‹¶ë‹¤", labelEn: "âœ• Want to delete it", score: 0 },
          ],
        },
      ];

      function getQuestions() {
        const isEnglish = window.currentLang === "en";
        return QUESTIONS_BASE.map(q => ({
          ...q,
          title: isEnglish ? q.titleEn : q.title,
          hint: isEnglish ? q.hintEn : q.hint,
          options: q.options.map(opt => ({
            ...opt,
            label: isEnglish ? opt.labelEn : opt.label
          }))
        }));
      }

      window.getQuestions = getQuestions;

      const KEY = "prod_answers_v1";

      const els = {
        stepText: document.getElementById("stepText"),
        totalText: document.getElementById("totalText"),
        progBar: document.getElementById("progBar"),
        qWrap: document.getElementById("qWrap"),
        qTitle: document.getElementById("qTitle"),
        qHint: document.getElementById("qHint"),
        opts: document.getElementById("opts"),
        backBtn: document.getElementById("backBtn"),
        resetBtn: document.getElementById("resetBtn"),
      };

      let state = loadState();

      function loadState() {
        try {
          const raw = localStorage.getItem(KEY);
          if (!raw) return { idx: 0, scores: [] };
          const parsed = JSON.parse(raw);
          if (
            !parsed ||
            typeof parsed.idx !== "number" ||
            !Array.isArray(parsed.scores)
          ) {
            return { idx: 0, scores: [] };
          }
          return parsed;
        } catch {
          return { idx: 0, scores: [] };
        }
      }

      function saveState() {
        localStorage.setItem(KEY, JSON.stringify(state));
      }

      function resetAll() {
        state = { idx: 0, scores: [] };
        localStorage.removeItem(KEY);
        localStorage.removeItem("prod_score");
        render();
      }

      function render() {
        const QUESTIONS = getQuestions();
        const total = QUESTIONS.length;
        const idx = state.idx;

        els.totalText.textContent = total;
        els.stepText.textContent = Math.min(idx + 1, total);

        const pct = Math.round((idx / total) * 100);
        els.progBar.style.width = Math.max(8, pct) + "%";

        els.backBtn.disabled = idx === 0;

        const q = QUESTIONS[idx];
        els.qTitle.textContent = q.title;
        els.qHint.textContent = q.hint || "";

        els.opts.innerHTML = q.options
          .map((opt, i) => {
            return `
          <button
            type="button"
            data-score="${opt.score}"
            class="w-full text-left rounded-2xl border border-slate-200 bg-white px-4 py-4 text-sm font-semibold shadow-sm hover:shadow transition active:scale-[0.99]">
            ${escapeHtml(opt.label)}
          </button>
        `;
          })
          .join("");

        // re-attach
        els.opts.querySelectorAll("button[data-score]").forEach((btn) => {
          btn.addEventListener("click", () => {
            const score = parseInt(btn.dataset.score, 10) || 0;
            answer(score);
          });
        });

        els.qWrap.classList.remove("fade-in");
        void els.qWrap.offsetWidth;
        els.qWrap.classList.add("fade-in");
      }

      function answer(score) {
        state.scores[state.idx] = score;
        state.idx += 1;
        saveState();

        const QUESTIONS = getQuestions();
        if (state.idx >= QUESTIONS.length) {
          const total = state.scores.reduce((a, b) => a + (b || 0), 0);
          localStorage.setItem("prod_score", String(total));
          location.href = `./result.html?score=${total}`;
          return;
        }
        render();
      }

      function back() {
        if (state.idx <= 0) return;
        state.idx -= 1;
        saveState();
        render();
      }

      function escapeHtml(str) {
        return String(str)
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;")
          .replaceAll('"', "&quot;")
          .replaceAll("'", "&#039;");
      }

      // Make render globally available for i18n
      window.render = render;

      // events
      els.backBtn.addEventListener("click", back);
      els.resetBtn.addEventListener("click", resetAll);

      // âœ… í•˜ë‹¨ ê³µí†µ ë²„íŠ¼
      document
        .getElementById("more-tests-btn")
        ?.addEventListener("click", (e) => {
          const url = e.currentTarget.dataset.url;
          if (url) window.open(url, "_blank", "noopener,noreferrer");
        });

      render();
    </script>
  
<ins class="adsbygoogle"
     style="display:block; text-align:center"
     data-ad-client="ca-pub-1204894220949193"
     data-ad-slot="5145068706"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
    
</body>
</html>
